<html>
<head>
<title>City Finder</title>
<script src="https://code.jquery.com/jquery-1.10.2.js"></script>
<!-- <script src="http://maps.googleapis.com/maps/api/js?key=AIzaSyBpwMCuPdLsNlZGARiW1yFKDtsaoDkd1I4"></script> -->

<script>
$(document).ready(function() {
	$( "#cityfield" ).keyup(function() {
		var url = //"https://students.cs.byu.edu/~clement/CS360/ajax/getcity.cgi?q="+$("#cityfield").val();
		"../getcity?q="+$("#cityfield").val();
		$.getJSON(url,function(data) {
		    var everything;
		    everything = "<ul>";
		    $.each(data, function(i,item) {
		    	everything += "<li> "+data[i].city;
		    });
	    	everything += "</ul>";
	    	$("#txtHint").html(everything);
	  })
	  .done(function() { console.log('getJSON request succeeded!'); })
	  .fail(function(jqXHR, textStatus, errorThrown) { 
	    console.log('getJSON request failed! ' + textStatus); 
	    console.log("incoming "+jqXHR.responseText);
	  })
	  .always(function() { console.log('getJSON request ended!');
	  })
	  .complete(function() { console.log("complete"); });
	});

	$("#button").click(function(e){
	  var value = $("#cityfield").val();
	  console.log(value);
	  e.preventDefault();
	  
	  $("#dispcity").text(value);
	});
	
	
	//var giturl = "../getgit?q=";
	$.getJSON("https://api.github.com/users/ryanrrichey",function(data) {
		
		// var githubjunk = [];
//  		for(var i=0;i<data.length; i++){
// 			if (data[i] == "login")
// 			{
// 				githubjunk.push(data[i]);
// 			}
// 			if (data[i] == "url")
// 			{
// 				githubjunk.push(data[i]);
// 			}
// 			if (data[i] == "followers")
// 			{
// 				githubjunk.push(data[i]);
// 			}
//
// 		}
// 		//githubjunk.
		//console.log(githubjunk);
		
		
		// var output;
// 		output  = "<ul>";
// 	    $.each(data, function(i,item) {
// 	    	output += "<li> "+data[i];
// 	    });
//     	output += "</ul>";
    	$("#github").html("username: " + data.login + "<br>" + "url: " + data.url 							+ "<br>" + "followers: " + data.followers);
	});
	
	
	
	
	
	
});
</script>



</head>
<body>
<form>
Enter A Utah City: <input type="text" id="cityfield" value=""><br>
Suggestion: <span id="txtHint">Empty</span>
<input id="button" type="submit" value="Submit">
</form>
<p>City</p>
<textarea id="dispcity">No City</textarea>
<p>GitHub info</p>
<div id= "github"></div>

</body>
</html>
